<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head th:replace="layout :: head">
    <title>Chronopolis Ingestion Service</title>
</head>
<body role="document">

    <header th:replace="layout :: header"></header>
    <div th:replace="layout :: left"></div>

    <div class="content">
    <div th:include="fragments/users :: table"></div>

    <div sec:authorize="hasRole('ROLE_ADMIN')" class="row">
        <h4>Add New User</h4>

        <form enctype="application/json" method="post" name="ingest" action="/users/add"
              th:action="@{/users/add}">
            <div class="form-group">
                <div><label>Username: <input type="text" class="form-control" name="username"
                                             placeholder="node-name"/></label></div>
                <div><label>Password: <input type="text" class="form-control" name="password"
                                             placeholder="temp-password"/></label></div>
                <div><label>Admin: <input type="checkbox" name="admin"/></label></div>
                <div><label>Is a Node: <input type="checkbox" name="node"/></label></div>
            </div>
            <input type="submit" class="btn btn-small" value="Create User"/>
        </form>
    </div>

    <div class="row">
        <h4>Update Password</h4>

        <form enctype="application/json" method="post" name="ingest" action="/users/update"
              th:action="@{/users/update}">
            <div><label>Current Password: <input type="password" name="oldPassword"
                                                 placeholder="current-password"/></label></div>
            <div><label>New Password: <input type="password" name="newPassword" placeholder="new-password"/></label>
            </div>
            <input type="submit" class="btn btn-small" value="Update Password"/>
        </form>
    </div>

</div>
</body>
</html>